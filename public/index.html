<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT End User Authentication Tool</title>
    <script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=ACCOUNT_KEY"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9; /* Light background */
            color: #333; /* Dark text */
        }
        h1 {
            color: #4CAF50; /* Green color */
            text-align: center;
        }
        h2 {
            margin-top: 20px;
            color: #4CAF50; /* Green color */
        }
        label {
            font-weight: bold;
            margin-top: 10px;
        }
        input {
            display: block;
            margin: 10px auto;
            padding: 10px;
            width: 80%;
            max-width: 400px;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: border-color 0.3s;
        }
        input:focus {
            border-color: #4CAF50; /* Green border on focus */
            outline: none;
        }
        button {
            background-color: #4CAF50; /* Green button */
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049; /* Darker green on hover */
        }
        textarea {
            width: 80%;
            max-width: 400px;
            height: 100px;
            margin: 10px auto;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            resize: none; /* Prevent resizing */
        }
        p {
            text-align: center;
            color: #666; /* Light gray text */
        }
        .description {
            font-size: 0.9em; 
            color: #666; /* Light gray text */
            margin: 5px auto;
            width: 80%;
            max-width: 400px;
            text-align: center;
        }
        .section {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f0f0f0; /* Light gray background for sections */
        }
    </style>
</head>
<body>
    <h1>JWT End User Authentication Tool for the Chat Widget (Classic)</h1>
    <p class="description">This tool exemplifies how JWT end user authentication works when using the Chat Widget (Classic).</p>
    
    <div class="section">
        <label for="widgetKey">Widget Key:</label>
        <input type="text" id="widgetKey" placeholder="Enter your Widget Key" />
        <p class="description">To find your Web Widget Key, navigate to the Admin Center in your test account, access the Web Widget you wish to configure from the widgets list in the Messaging Tab. Go to Installations, and copy the "key" value.</p>
    </div>

    <div class="section">
        <label for="sharedSecret">Shared Secret:</label>
        <input type="text" id="sharedSecret" placeholder="Enter your Shared Secret" />
        <p class="description">To generate the shared secret required for authenticated visitors, open your Chat dashboard and go to Settings > Widget. Click the Widget Security tab. Scroll down to the Visitor Authentication section and click the Generate button.</p>
    </div>

    <div class="section">
        <h2>End User Credentials</h2>
        <p class="description">The name and email address fields represent the text fields an end user would use to authenticate to the web widget.</p>
        
        <label for="userName">User Name:</label>
        <input type="text" id="userName" placeholder="Enter your name" />

        <label for="email">Email Address:</label>
        <input type="email" id="email" placeholder="Enter your email" />
    </div>

    <button id="generateToken">Generate JWT Token</button>

    <h2>Generated JWT Token:</h2>
    <textarea id="tokenOutput" readonly></textarea>
    
    <h2>Constructed URL: <p style="color: red; text-decoration: solid;" >Copy this URL and open it in a new tab to authenticate with the Web Widget.</p></h2>
    <textarea id="urlOutput" readonly></textarea>
    

    <script src="index.js"></script>
</body>
</html>
